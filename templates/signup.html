
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<link rel = "stylesheet" href = "../static/bootstrap-5.0.2-dist/css/bootstrap.min.css">
    <!-- custom css -->
    <link rel="stylesheet" type="text/css" href="../static/css/welcome.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    <title>Sign In</title>
</head>
<body>
	   <!-- navbar -->
	   <nav class="navbar navbar-expand-lg navbar-light bg-white py-4">
		<div class="container">
			<a class="navbar-brand d-flex justify-content-between align-items-center order-lg-0" href="/">
				<img src="../static/img/shopping-bag-icon.png" alt="site icon">
				<span class="text-uppercase fw-lighter ms-2">JINADA</span>
			</a>
	
			<div class="order-lg-2 nav-btns">				
				
			
						<button type="button" class="btn position-relative" onclick="window.location.href='/signin'">
							<span class="button-icon"><i class="fa fa-user"></i></span>
							Sign In
						</button>
						<button type="button" class="btn position-relative" onclick="window.location.href='/signup'">
							<span class="button-icon"><i class="fa fa-sign-in-alt"></i></span>
							Sign Up
						</button>
			</div>
	
			<button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
				<span class="navbar-toggler-icon"></span>
			</button>
	
			<div class="collapse navbar-collapse order" id="navMenu">
				<ul class="navbar-nav mx-auto text-center smaller-font ">
					<li class="nav-item px-2 py-2">
						<a class="nav-link text-uppercase text-dark" href="/">home</a>
					</li>
					<li class="nav-item px-2 py-2">
						<a class="nav-link text-uppercase text-dark" href="/productList">products</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	


		<div class="container mt-5">
			<h1 class="text-center mb-4">Sign Up</h1>
			<p style="color:red" id="error-message"></p>
			<form  id="signupForm">
<!-- username	email	password	first_name	last_name	address	phone_number	 -->
				<div class="mb-3">
					<label for="username" class="form-label">Username</label>
					<input type="text" class="form-control" id="username" name="username" required>
				</div>
				<div class="mb-3">
					<label for="email" class="form-label">Email</label>
					<input type="email" class="form-control" id="email" name="email" required>
				</div>
				<div class="mb-3">
					<label for="password" class="form-label"> Password</label>
					<input type="password" class="form-control" id="password" name="password" required>
				</div>
				<div class="mb-3">
					<label for="first_name" class="form-label">First name</label>
					<input type="text" class="form-control" id="first_name" name="first_name" required>
				</div>
				<div class="mb-3">
					<label for="last_name" class="form-label">Last name</label>
					<input type="text" class="form-control" id="last_name" name="last_name" required>
				</div>
				<div class="mb-3">
					<label for="address" class="form-label">Address</label>
					<input type="text" class="form-control" id="address" name="address" required>
				</div>
				<div class="mb-3">
					<label for="phone_number" class="form-label">Phone number</label>
					<input type="tel" class="form-control" id="phone_number" name="phone_number" required>
				</div>
				<button type="submit" class="btn btn-primary">Sign In</button>
			</form>
		</div>
		<script>
			const form = document.querySelector('#signupForm'); 
			const error = document.querySelector('#error-message'); 

			form.addEventListener('submit', (e) => {
			e.preventDefault(); 
			
			const formData = new FormData(form);
			const formDataJSON = JSON.stringify(Object.fromEntries(formData.entries()));

			fetch('/signup', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json'
				},
				body: formDataJSON
			})
			.then(response => {
				if (!response.ok) {
					return response.text().then(errorMessage => {
					document.querySelector('#error-message').innerHTML = errorMessage;
					});
				} else {
					// Redirect to '/'
					window.location.href = '/';
				}
				});

			});

		</script>
		<!-- <main>
			<section class="login-section">
				<h2>Login</h2>
				<p style="color:red">{{ . }}</p>
				<form action="/sigin" method="POST">
					<label for="username">Name:</label><br>
					<input type="text" id="username" name="username"><br>
					<label for="password">Password:</label><br>
					<input type="password" id="password" name="password"><br><br>
					<input type="submit" value="Submit">
				</form>
				<div class="response">
					
				</div>
			</section>
		</main> -->
		
</body>
</html>

